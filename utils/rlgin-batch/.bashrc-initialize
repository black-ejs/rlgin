# >>> RLGIN_BATCH initialize >>>
echo rlgin batch initialization
export RLGIN_BATCH_EXECUTION_BUCKET='rb-series-shared-bucket-1'
export RLGIN_BATCH_EXECUTION_MOUNT='/mnt/rlgin_batch'
export RLGIN_BATCH_REPO_URL='https://github.com/black-ejs/rlgin'
export RLGIN_BATCH_LOCAL_REPO=~/rlgin-local-repo
export RLGIN_BATCH_SERIES_ROOT=~/dev
export RLGIN_BATCH_SERIES_BASE="${RLGIN_BATCH_SERIES_ROOT}"/projects/training_ground
export RLGIN_BATCH_PARAMS="${RLGIN_BATCH_SERIES_ROOT}"/projects/rlgin-batch/job-params
### if [ ! -d "${RLGIN_BATCH_SERIES_BASE}" ]
gfps=`ps -ef | grep gcsfuse | grep -v grep`
if [[ X"${gfps}"X == XX  ]] 
then
	echo "rlgin-batch: mounting shared bucket"
	gcsfuse --debug_fuse --debug_fs --debug_gcs --file-mode 744 "${RLGIN_BATCH_EXECUTION_BUCKET}" "${RLGIN_BATCH_SERIES_ROOT}"
	# unmount with  
	#   	fusermount -u "${RLGIN_BATCH_SERIES_ROOT}"
fi
# <<< RLGIN BATCH initialize <<<
